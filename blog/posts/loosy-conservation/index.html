<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>更宽松条件的能量守恒 | Sebrarin's Daft & Draft</title><meta name=keywords content><meta name=description content="对时间的偏导是0吗？"><meta name=author content="switefaster"><link rel=canonical href=https://switefaster.github.io/blog/posts/loosy-conservation/><link crossorigin=anonymous href=/blog/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U+6hYRq/Ez/nm5vg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/blog/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://switefaster.github.io/blog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://switefaster.github.io/blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://switefaster.github.io/blog/favicon-32x32.png><link rel=apple-touch-icon href=https://switefaster.github.io/blog/apple-touch-icon.png><link rel=mask-icon href=https://switefaster.github.io/blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous onload='renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1}]})'></script><meta property="og:title" content="更宽松条件的能量守恒"><meta property="og:description" content="对时间的偏导是0吗？"><meta property="og:type" content="article"><meta property="og:url" content="https://switefaster.github.io/blog/posts/loosy-conservation/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-10-11T20:34:18+08:00"><meta property="article:modified_time" content="2023-10-11T20:34:18+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="更宽松条件的能量守恒"><meta name=twitter:description content="对时间的偏导是0吗？"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://switefaster.github.io/blog/posts/"},{"@type":"ListItem","position":2,"name":"更宽松条件的能量守恒","item":"https://switefaster.github.io/blog/posts/loosy-conservation/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"更宽松条件的能量守恒","name":"更宽松条件的能量守恒","description":"对时间的偏导是0吗？","keywords":[],"articleBody":"引言 经典力学中，在从一个体系的拉格朗日量出发推导守恒量的过程，我们经常让拉格朗日量在一个无穷小变换下拉格朗日量的变化为0。这并非错误，然而我们都知道两个拉格朗日量若只相差一个仅含广义坐标与时间的函数的全导数，那么这两个拉格朗日量描述的体系便可以视为全同的。那么，若我们引入的条件是无穷小的时间轴标定平移下拉格朗日量的变化只差一个坐标与时间的全导数，我们到底能不能得出一样的能量守恒，或者修正的能量守恒呢？这篇文章中我们将着手解决这个问题。\n时间平移 何为时间平移不变性？是说在力学规律的角度下，系统的任何时间都是等价的。粗略地说，这个条件可以等价为我们可以找两个人在不同的时间开始研究同一个力学系统，而这两人会得到同样的力学规律。从拉格朗日量的角度看，这意味着如果$\\mathcal{L}$中显含的$t$中若经历了平移，我们仍然会得到一样的运动方程。这里需要注意我们只需要关注$\\mathcal{L}$中显含的$t$，而不需要让$q\\left(t\\right)$中的$t$也产生平移。因为我们研究的是两个不同视角下的力学规律，而如果我们直接将整个时间轴进行平移，则拉格朗日量的变化量是$d\\mathcal{L}$这个全微分，是同一个视角的拉格朗日量在时间下的变化罢了。在数学的角度，那也仅仅是将解进行了一个平移，并不能反映运动方程的变化。而显含于$\\mathcal{L}$中的$t$才是将两个系统区分开的因素。\n同时，我们还需注意一点，即我们进行的时间平移必须是一个“常量”。也就是说，我们并不能有$t^\\prime=t+δt\\left(t\\right)$。这是因为，如果$t^\\prime$与$t$之间的关系与$t$本身有关，我们实际上则创造出了一个时间流逝不均匀的参考系。然而伽利略相对性原理则指出不同的参考系之间总具有相同的全局时间，这使得我们无法对时间流逝不均的参考系做出任何断言，因为没有相对性原理保证其物理规律是一致的。\n现在，我们考察无穷小的时间平移给拉格朗日量带来的影响\n$$ \\delta\\mathcal{L}=\\mathcal{L\\left(q,\\dot{q},t+δt\\right)}-\\mathcal{L\\left(q,\\dot{q},t\\right)}=\\frac{\\partial \\mathcal{L}}{\\partial t}\\delta t $$\n而我们希望其带来的影响是一个位置和时间对时间的全导数，即\n$$ \\frac{\\partial \\mathcal{L}}{\\partial t}\\delta t=\\frac{d}{dt}f\\left(q,t\\right) $$\n而由于$\\delta t$与$t$无关，我们将$\\delta t$商掉并吸收进$f$中。虽然这一过程看似产生了除以一个无穷小量的不合理操作，但是由于我们在物理上可以将$\\delta t$理解成一个造成的高阶项影响已经远小于我们测量精度的有限大量，所以并无大碍。再者，我们实际上需要的事实仅仅是$g=\\dfrac{f}{\\delta t}$仅依赖于$q$与$t$，其大小如何，我们并不关心。\n现在，我们拥有了如下等式\n$$ \\frac{\\partial \\mathcal{L}}{\\partial t}=\\frac{d}{dt}g\\left(q,t\\right)=\\frac{\\partial g}{\\partial q}\\dot{q}+\\frac{\\partial g}{\\partial t} $$\n由于我们需要获得$\\mathcal{L}$的形式，我们可以将$q$与$\\dot{q}$当作与$t$无关的常量对上式两侧积分，并定义\n$$ \\begin{equation} \\begin{cases} \\varphi\\left(q,t\\right)=\\int \\dfrac{\\partial g}{\\partial q} dt \\\\ \\psi\\left(q,t\\right)\\equiv g\\left(q,t\\right)+h\\left(q\\right)=\\int \\dfrac{\\partial g}{\\partial t} dt \\end{cases} \\end{equation} $$\n其中第二式是因为偏导和这个积分过程都是将$q$与$\\dot{q}$当作常数处理的，其显然是完全互逆的操作。\n因此，$\\mathcal{L}$具有如下形式\n$$ \\mathcal{L}=\\mathcal{L}_0\\left(q,\\dot{q}\\right)+\\varphi\\dot{q}+\\psi $$\n其中$\\mathcal{L}_0$是积分过程中产生的常数，其不显含$t$。而由于我们的拉格朗日量描述的是真实的物理系统，我们断言其形式为一般情况下的拉格朗日量$\\mathcal{L}_0=T-U$。而$\\mathcal{L}$应当满足E-L方程，这意味着\n$$ \\begin{equation} \\frac{\\partial \\mathcal{L}_0}{\\partial q}+\\frac{\\partial \\varphi}{\\partial q}\\dot{q}+\\frac{\\partial g}{\\partial q}+\\frac{\\partial h}{\\partial q}=\\frac{d}{dt}\\left(\\frac{\\partial \\mathcal{L}_0}{\\partial \\dot{q}}+\\varphi\\right) \\end{equation} $$\n而稍作观察便可以发现\n$$ \\begin{equation} \\frac{d\\varphi}{dt}=\\frac{\\partial\\varphi}{\\partial q}\\dot{q}+\\frac{\\partial\\varphi}{\\partial t}=\\frac{\\partial\\varphi}{\\partial q}\\dot{q}+\\frac{\\partial g}{\\partial q} \\end{equation} $$\n最右边的等号是因为方程$\\left(1\\right)$。将方程$\\left(3\\right)$代入$\\left(2\\right)$中，我们得到\n$$ \\frac{\\partial \\mathcal{L}_0}{\\partial q}+\\frac{\\partial h}{\\partial q}=\\frac{d}{dt}\\left(\\frac{\\partial \\mathcal{L}_0}{\\partial \\dot{q}}\\right) $$\n现在我们终于可以开始考察$\\mathcal{L}$对时间的全微分\n$$ \\begin{alignat*}{100} \\frac{d\\mathcal{L}}{dt} =\\frac{\\partial\\mathcal{L}_0}{\\partial q}\\dot{q}+\\frac{\\partial\\mathcal{L}_0}{\\partial\\dot{q}}\\ddot{q}+\\frac{d}{dt}\\left(\\varphi\\dot{q}+\\psi\\right) \\\\ =\\left(\\frac{d}{dt}\\left(\\frac{\\partial \\mathcal{L}_0}{\\partial \\dot{q}}\\right)-\\frac{\\partial h}{\\partial q}\\right)\\dot{q}+\\frac{\\partial\\mathcal{L}_0}{\\partial\\dot{q}}\\ddot{q}+\\frac{d}{dt}\\left(\\varphi\\dot{q}+\\psi\\right) \\\\ =\\frac{d}{dt}\\left(\\frac{\\partial\\mathcal{L}_0}{\\partial q}\\dot{q}+\\varphi\\dot{q}+\\psi-h\\right) \\end{alignat*} $$\n换而言之\n$$ \\mathcal{L}-\\frac{\\partial\\mathcal{L}_0}{\\partial q}\\dot{q}-\\varphi\\dot{q}-\\psi+h=h-T-U $$\n守恒的能量比常规能量多出了一项$h$。这个$h$，究竟是何方神圣？\n该$h$有很多来源，从过程上看他是积分$\\left(1\\right)$过程中产生的常数项。而我们当然知道，只关于$q$的函数是时间平移不变的。因此，在这个常数中，我们实际上可以引入任意势能场。在这个意义下，$h$仅仅表示了时间无关的势能而已。\n然而$h$代表的意义或许可以超过此。在大多数情况下，我们是知道系统的具体配置的。或者说，我们知道势能$U$到底取什么形式。此时，若拉格朗日量具有$\\varphi\\dot{q}$项，那么我们便可以通过解方程$\\left(1\\right)$的方式将$h$解出来，也就是说，体系在原有的势能上会多出一项$h$的势能修正。该修正由$\\varphi\\dot{q}$项产生，我们可以认为其表示了一个时间平移不变但是与速度相关的相互作用产生的能量修正。这样的例子包括形如这样的修正项$\\varphi=t$，其效果是会产生一个恒定的“加速度”，而$h$则会将其加速度的等效力场的势能囊括。不过我并没有想到太多这样的例子。\n结论 好像没啥用？不过挺有意思的，于是罢了。\n","wordCount":"122","inLanguage":"en","datePublished":"2023-10-11T20:34:18+08:00","dateModified":"2023-10-11T20:34:18+08:00","author":{"@type":"Person","name":"switefaster"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://switefaster.github.io/blog/posts/loosy-conservation/"},"publisher":{"@type":"Organization","name":"Sebrarin's Daft \u0026 Draft","logo":{"@type":"ImageObject","url":"https://switefaster.github.io/blog/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://switefaster.github.io/blog/ accesskey=h title="Sebrarin's Daft & Draft (Alt + H)">Sebrarin's Daft & Draft</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>更宽松条件的能量守恒</h1><div class=post-description>对时间的偏导是0吗？</div><div class=post-meta><span title='2023-10-11 20:34:18 +0800 +0800'>October 11, 2023</span>&nbsp;·&nbsp;switefaster</div></header><div class=post-content><h2 id=引言>引言<a hidden class=anchor aria-hidden=true href=#引言>#</a></h2><p>经典力学中，在从一个体系的拉格朗日量出发推导守恒量的过程，我们经常让拉格朗日量在一个无穷小变换下拉格朗日量的变化为0。这并非错误，然而我们都知道两个拉格朗日量若只相差一个仅含广义坐标与时间的函数的全导数，那么这两个拉格朗日量描述的体系便可以视为全同的。那么，若我们引入的条件是无穷小的时间轴标定平移下拉格朗日量的变化只差一个坐标与时间的全导数，我们到底能不能得出一样的能量守恒，或者修正的能量守恒呢？这篇文章中我们将着手解决这个问题。</p><h2 id=时间平移>时间平移<a hidden class=anchor aria-hidden=true href=#时间平移>#</a></h2><p>何为时间平移不变性？是说在力学规律的角度下，系统的任何时间都是等价的。粗略地说，这个条件可以等价为我们可以找两个人在不同的时间开始研究同一个力学系统，而这两人会得到同样的力学规律。从拉格朗日量的角度看，这意味着如果$\mathcal{L}$中显含的$t$中若经历了平移，我们仍然会得到一样的运动方程。这里需要注意我们只需要关注$\mathcal{L}$中显含的$t$，而不需要让$q\left(t\right)$中的$t$也产生平移。因为我们研究的是两个不同视角下的力学规律，而如果我们直接将整个时间轴进行平移，则拉格朗日量的变化量是$d\mathcal{L}$这个全微分，是同一个视角的拉格朗日量在时间下的变化罢了。在数学的角度，那也仅仅是将解进行了一个平移，并不能反映运动方程的变化。而显含于$\mathcal{L}$中的$t$才是将两个系统区分开的因素。</p><p>同时，我们还需注意一点，即我们进行的时间平移必须是一个“常量”。也就是说，我们并不能有$t^\prime=t+δt\left(t\right)$。这是因为，如果$t^\prime$与$t$之间的关系与$t$本身有关，我们实际上则创造出了一个时间流逝不均匀的参考系。然而伽利略相对性原理则指出不同的参考系之间总具有相同的全局时间，这使得我们无法对时间流逝不均的参考系做出任何断言，因为没有相对性原理保证其物理规律是一致的。</p><p>现在，我们考察无穷小的时间平移给拉格朗日量带来的影响</p><p>$$
\delta\mathcal{L}=\mathcal{L\left(q,\dot{q},t+δt\right)}-\mathcal{L\left(q,\dot{q},t\right)}=\frac{\partial \mathcal{L}}{\partial t}\delta t
$$</p><p>而我们希望其带来的影响是一个位置和时间对时间的全导数，即</p><p>$$
\frac{\partial \mathcal{L}}{\partial t}\delta t=\frac{d}{dt}f\left(q,t\right)
$$</p><p>而由于$\delta t$与$t$无关，我们将$\delta t$商掉并吸收进$f$中。虽然这一过程看似产生了除以一个无穷小量的不合理操作，但是由于我们在物理上可以将$\delta t$理解成一个造成的高阶项影响已经远小于我们测量精度的有限大量，所以并无大碍。再者，我们实际上需要的事实仅仅是$g=\dfrac{f}{\delta t}$仅依赖于$q$与$t$，其大小如何，我们并不关心。</p><p>现在，我们拥有了如下等式</p><p>$$
\frac{\partial \mathcal{L}}{\partial t}=\frac{d}{dt}g\left(q,t\right)=\frac{\partial g}{\partial q}\dot{q}+\frac{\partial g}{\partial t}
$$</p><p>由于我们需要获得$\mathcal{L}$的形式，我们可以将$q$与$\dot{q}$当作与$t$无关的常量对上式两侧积分，并定义</p><p>$$
\begin{equation}
\begin{cases}
\varphi\left(q,t\right)=\int \dfrac{\partial g}{\partial q} dt \\
\psi\left(q,t\right)\equiv g\left(q,t\right)+h\left(q\right)=\int \dfrac{\partial g}{\partial t} dt
\end{cases}
\end{equation}
$$</p><p>其中第二式是因为偏导和这个积分过程都是将$q$与$\dot{q}$当作常数处理的，其显然是完全互逆的操作。</p><p>因此，$\mathcal{L}$具有如下形式</p><p>$$
\mathcal{L}=\mathcal{L}_0\left(q,\dot{q}\right)+\varphi\dot{q}+\psi
$$</p><p>其中$\mathcal{L}_0$是积分过程中产生的常数，其不显含$t$。而由于我们的拉格朗日量描述的是真实的物理系统，我们断言其形式为一般情况下的拉格朗日量$\mathcal{L}_0=T-U$。而$\mathcal{L}$应当满足E-L方程，这意味着</p><p>$$
\begin{equation}
\frac{\partial \mathcal{L}_0}{\partial q}+\frac{\partial \varphi}{\partial q}\dot{q}+\frac{\partial g}{\partial q}+\frac{\partial h}{\partial q}=\frac{d}{dt}\left(\frac{\partial \mathcal{L}_0}{\partial \dot{q}}+\varphi\right)
\end{equation}
$$</p><p>而稍作观察便可以发现</p><p>$$
\begin{equation}
\frac{d\varphi}{dt}=\frac{\partial\varphi}{\partial q}\dot{q}+\frac{\partial\varphi}{\partial t}=\frac{\partial\varphi}{\partial q}\dot{q}+\frac{\partial g}{\partial q}
\end{equation}
$$</p><p>最右边的等号是因为方程$\left(1\right)$。将方程$\left(3\right)$代入$\left(2\right)$中，我们得到</p><p>$$
\frac{\partial \mathcal{L}_0}{\partial q}+\frac{\partial h}{\partial q}=\frac{d}{dt}\left(\frac{\partial \mathcal{L}_0}{\partial \dot{q}}\right)
$$</p><p>现在我们终于可以开始考察$\mathcal{L}$对时间的全微分</p><p>$$
\begin{alignat*}{100}
\frac{d\mathcal{L}}{dt}
=\frac{\partial\mathcal{L}_0}{\partial q}\dot{q}+\frac{\partial\mathcal{L}_0}{\partial\dot{q}}\ddot{q}+\frac{d}{dt}\left(\varphi\dot{q}+\psi\right)
\\ =\left(\frac{d}{dt}\left(\frac{\partial \mathcal{L}_0}{\partial \dot{q}}\right)-\frac{\partial h}{\partial q}\right)\dot{q}+\frac{\partial\mathcal{L}_0}{\partial\dot{q}}\ddot{q}+\frac{d}{dt}\left(\varphi\dot{q}+\psi\right)
\\ =\frac{d}{dt}\left(\frac{\partial\mathcal{L}_0}{\partial q}\dot{q}+\varphi\dot{q}+\psi-h\right)
\end{alignat*}
$$</p><p>换而言之</p><p>$$
\mathcal{L}-\frac{\partial\mathcal{L}_0}{\partial q}\dot{q}-\varphi\dot{q}-\psi+h=h-T-U
$$</p><p>守恒的能量比常规能量多出了一项$h$。这个$h$，究竟是何方神圣？</p><p>该$h$有很多来源，从过程上看他是积分$\left(1\right)$过程中产生的常数项。而我们当然知道，只关于$q$的函数是时间平移不变的。因此，在这个常数中，我们实际上可以引入任意势能场。在这个意义下，$h$仅仅表示了时间无关的势能而已。</p><p>然而$h$代表的意义或许可以超过此。在大多数情况下，我们是知道系统的具体配置的。或者说，我们知道势能$U$到底取什么形式。此时，若拉格朗日量具有$\varphi\dot{q}$项，那么我们便可以通过解方程$\left(1\right)$的方式将$h$解出来，也就是说，体系在原有的势能上会多出一项$h$的势能修正。该修正由$\varphi\dot{q}$项产生，我们可以认为其表示了一个时间平移不变但是与速度相关的相互作用产生的能量修正。这样的例子包括形如这样的修正项$\varphi=t$，其效果是会产生一个恒定的“加速度”，而$h$则会将其加速度的等效力场的势能囊括。不过我并没有想到太多这样的例子。</p><h2 id=结论>结论<a hidden class=anchor aria-hidden=true href=#结论>#</a></h2><p>好像没啥用？不过挺有意思的，于是罢了。</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://switefaster.github.io/blog/>Sebrarin's Daft & Draft</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>